<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>React Test</title>
</head>
<body>
<div id="root"></div>
</body>
<script type="module" crossorigin src="/src/Main.jsx"></script>
<script>
const xhr = new XMLHttpRequest();
xhr.open('GET', 'https://noahcohn.com/react.3ijs', true); // Replace with your filename
xhr.responseType = 'arraybuffer'; // Get raw binary data
console.log('got run');
function decodeUTF32(uint8Array, isLittleEndian = true) {
  const dataView = new DataView(uint8Array.buffer);
  let result = "";
  for (let i = 0; i < uint8Array.length; i += 4) {
    let codePoint;
    if (isLittleEndian) {
      codePoint = dataView.getUint32(i, true); // Little-endian
    } else {
      codePoint = dataView.getUint32(i, false); // Big-endian
    }
    result += String.fromCodePoint(codePoint);
  }
  return result;
}
xhr.onload = function() {
    console.log('got load');
  if (xhr.status === 200) {
      console.log('got script');
    const utf32Data = xhr.response;
  //  const decoder = new TextDecoder('utf-32'); // Or 'utf-32be'
    const jsCode = decodeUTF32(new Uint8Array(utf32Data), true); // Assuming little-endian
    const scr = document.createElement('script');
  //  scr.type = 'module';
    scr.text = jsCode;
  //    scr.dataset.moduleUrl = 'https://wasm.noahcohn.com/b3hd/'; // Base URL for module's relative paths
    document.body.appendChild(scr);
}
};
xhr.send();
</script>
